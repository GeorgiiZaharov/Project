# Функциональные модели

## Настроить громкость:
- Пользователь нажимает на кнопку "Settings" в меню.
- Приложение отображает текущую громкость звука.
- Пользователь регулирует ползунок громкости.
- Приложение сохраняет новую громкость звука.

## Узнать основные клавиши для перемещения и стрельбы:
- Пользователь выбирает опцию "INFO".
- Приложение отображает список основных клавиш для перемещения и стрельбы, а также послание создателя.
- Пользователь ознакамливается с названиями клавиш.

## Начать игру:
- Пользователь нажимает на кнопку "START" в меню.
- Приложение загружает игровой уровень.
- Персонаж спавнится в верхней левой клетке лабиринта.
- Игрок видит лабиринт с врагами и блок с информацией о персонаже и оружии.

## Перемещать персонажа:
- Пользователь использует клавиши WASD для перемещения персонажа по лабиринту.
- Приложение отображает новое положение персонажа.

## Стрелять:
- Пользователь использует стрелки или нажатие мыши для стрельбы по врагам.
- Приложение отображает количество патронов в оружии и статус оружия (перезаряжается или готово).
- Приложение отображает урон, нанесенный врагу.

## Получать информацию о состоянии персонажа и оружия:
- Пользователь видит блок с информацией о персонаже и оружии, который отображает текущий уровень, количество патронов в оружии, здоровье персонажа, количество живых врагов и количество денег.
- Пользователь видит health bar свой и своих врагов, подкрашенный в зависимости от количества здоровья (зеленый, желтый, красный).

## Убивать врагов:
- Персонаж должен убить всех врагов на уровне, чтобы пройти на следующий уровень.
- За каждого убитого врага персонаж получает одну монету.
- Приложение удаляет убитых врагов из лабиринта.

## Покупать улучшения:
- Пользователь может потратить 10 монет на покупку улучшений, таких как увеличение здоровья, брони или дополнительных патронов.
- Приложение уменьшает количество монет пользователя.
- Приложение применяет выбранное улучшение к персонажу.

## Повышать уровень:
- После убийства всех врагов на уровне, игрок нажимает кнопку "Next level" для перехода к следующему уровню.
- Приложение загружает новый уровень.
- Игрок продолжает игру на новом уровне.

# Диаграммы
## Диаграмма вариантов использования
* Онлайн генерация (формат mermaid, используется инструмент Диаграммы состояний)
```mermaid
graph LR

subgraph Приложение
  SetVolume("Настроить громкость")
  GetControls("Узнать основные клавиши для перемещения и стрельбы")
  StartGame("Начать игру")
  MoveCharacter("Перемещать персонажа")
  Shoot("Стрелять")
  GetInfo("Получать информацию о состоянии персонажа и оружия")
  KillEnemies("Убивать врагов")
  BuyUpgrades("Покупать улучшения")
  LevelUp("Повышать уровень")
end

User["Пользователь"]
User --> SetVolume
User --> GetControls
User --> StartGame
User --> MoveCharacter
User --> Shoot
User --> GetInfo
User --> KillEnemies
User --> BuyUpgrades
User --> LevelUp

```
* [оффлайн файл](vars_of_use.puml)

![Диаграмма вариантов использования](vars_of_use.png)


## Диаграмма активности
### Для функциональной возможности "Стрелять"
```mermaid
graph TD
    start((start))
    shoot{"Пользователь стреляет"}
    checkAmmo{есть патроны?}
    decreaseAmmo{"Уменьшить количество патронов"}
    flyBullet{"пуля летит дальше"}
    hitEnemy{попадание во врага?}
    hitWall{попадание в стену?}
    damageEnemy{Нанести урон врагу}
    disappearBullet{Пуля исчезает}
    displayInfo{Отображение количества патронов и статуса оружия}
    noAmmo{"Патроны закончились"}
    stop(stop)
    
    start --> shoot --> checkAmmo
    checkAmmo -- да --> decreaseAmmo
    decreaseAmmo --> flyBullet
    flyBullet -- да --> hitEnemy
    hitEnemy -- да --> damageEnemy
    hitEnemy -- нет --> hitWall
    hitWall -- да --> disappearBullet --> displayInfo --> stop
    checkAmmo -- нет --> noAmmo --> displayInfo --> stop
```
* [оффлайн файл](fire.puml)

![Диаграмма вариантов использования](fire.png)

### Для функциональной возможности "Покупать улучшения"
```mermaid
graph LR
    start((start))
    buyUpgrade{"Пользователь желает купить улучшение"}
    checkCoins{достаточно монет?}
    decreaseCoins{"Уменьшить количество монет на 10"}
    applyUpgrade{"Применить выбранное улучшение к персонажу"}
    showMessage{"Отобразить сообщение о успешной покупке"}
    showInsufficientCoins{"Отобразить сообщение о недостаточном количестве монет"}
    stop(stop)

    start --> buyUpgrade
    buyUpgrade --> checkCoins
    checkCoins -- да --> decreaseCoins --> applyUpgrade --> showMessage --> stop
    checkCoins -- нет --> showInsufficientCoins --> stop
```
* [оффлайн файл](buy.puml)

![Диаграмма вариантов использования](buy.png)

### Для функциональной возможности "Начать игру"
```mermaid
graph TB
	Start --> Открытие_меню
	Открытие_меню --> Ожидание
	Ожидание --> |true| Ожидание
	Ожидание --> |false| Загрузка_игрового_уровня
	Загрузка_игрового_уровня --> Персонаж_на_верхней_левой_клетке_лабиринта
	Персонаж_на_верхней_левой_клетке_лабиринта --> Отображение_лабиринта_с_врагами
	Отображение_лабиринта_с_врагами --> Отображение_информации_о_персонаже_и_оружии
	Отображение_информации_о_персонаже_и_оружии --> Stop
```
* [оффлайн файл](start.puml)

![Диаграмма вариантов использования](start.png)